import React, { Component } from 'react';
import { scaleLinear } from 'd3-scale';
import { max,min } from 'd3-array'
import { select } from 'd3-selection'
class Rect extends Component {
   constructor(props){
      super(props)
      this.createRect = this.createRect.bind(this)
   }
   componentDidMount() {
      this.createRect()
   }
   componentDidUpdate() {
      this.createRect()
   }
   createRect() {
      const node = this.node
     var area =  select(node)
            .selectAll('rect')
            .data(this.props.data)
            .enter()
            .append('rect')
   
//    select(node)
//       .selectAll('rect')
//       .data(this.props.data)
//       .exit()
//       .remove()
   
   
      
            area.selectAll('rect')
            .data(this.props.data)
            .style('fill',(d)=>d[1])
            .attr('x', (d,i) => i*170)
            .attr('y',(d,i)=>0)
            .attr('height',150)
            .attr('width',150)
            .append("rect")
            .attr('x', (d,i) => i*170)
            .attr('y',(d,i)=>150)
            .attr('height',150)
            .attr('width',150)
   }
render() {
      return <svg ref={node => this.node = node}
       width="100%" height="100%">
      
      </svg>
   }
}
export default Rect;